# æœ€åˆã®10åˆ† - duo-talk-evaluation ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

åˆã‚ã¦è§¦ã‚‹äººå‘ã‘ã®æœ€çŸ­ãƒ‘ã‚¹ã€‚10åˆ†ã§ã€Œå•é¡Œç™ºè¦‹ â†’ åŸå› ç‰¹å®š â†’ ä¿®æ­£æ–¹é‡ã€ã¾ã§åˆ°é”ã€‚

## 0. å‰ææ¡ä»¶

```bash
# condaç’°å¢ƒãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§ã‚ã‚‹ã“ã¨
conda activate duo-talk
```

## 1. Demo Packã‚’å®Ÿè¡Œï¼ˆ2åˆ†ï¼‰

```bash
# GUIã‚’èµ·å‹•
make gui

# ã¾ãŸã¯ç›´æ¥å®Ÿè¡Œ
python -m gui_nicegui.main
```

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:8080 ã‚’é–‹ã
2. **Demo Pack** ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
3. **Run Demo Pack** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å®Œäº†ã¾ã§å¾…æ©Ÿï¼ˆç´„1-2åˆ†ï¼‰

## 2. Issues Only ãƒ“ãƒ¥ãƒ¼ã§å•é¡Œã‚’ç‰¹å®šï¼ˆ2åˆ†ï¼‰

å®Œäº†å¾Œã€**Issues Only** ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆã€‚

### ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§å…¨ä½“ã‚’æŠŠæ¡

Results ãƒ‘ãƒãƒ«ã®å„çµæœã«ã¯ **Mini Timeline** ãŒè¡¨ç¤ºã•ã‚Œã‚‹:
- ğŸŸ¢ ç·‘ = OK (å•é¡Œãªã—)
- ğŸŸ¡ é»„ = Retry (ãƒªãƒˆãƒ©ã‚¤ç™ºç”Ÿ)
- ğŸŸ  æ©™ = FormatBreak (ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸æ­£)
- ğŸ”´ èµ¤ = GiveUp (ã‚¿ã‚¹ã‚¯è«¦ã‚)

ä¸€ç›®ã§ã€Œã©ã®ã‚¿ãƒ¼ãƒ³ã«å•é¡ŒãŒã‚ã‚‹ã‹ã€ãŒåˆ†ã‹ã‚‹ã€‚

### å„ªå…ˆåº¦é †ï¼ˆä¸Šã‹ã‚‰å¯¾å‡¦ï¼‰

| å„ªå…ˆåº¦ | ãƒãƒ¼ã‚¯ | æ„å‘³ |
|--------|--------|------|
| 1 | ğŸ”´ Crash | ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ |
| 2 | ğŸŸ  Schema | ã‚¹ã‚­ãƒ¼ãƒé•å |
| 3 | ğŸŸ¡ FormatBreak | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¸æ­£ |
| 4 | ğŸ”µ GiveUp | ã‚¿ã‚¹ã‚¯è«¦ã‚ |
| 5 | âšª Retry | ãƒªãƒˆãƒ©ã‚¤ç™ºç”Ÿ |

æœ€åˆã®Issueã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’å±•é–‹ã€‚

## 3. Guidance Cardã§åŸå› ã‚’æŠŠæ¡ï¼ˆ1åˆ†ï¼‰

å±•é–‹ã—ãŸè©³ç´°ã« `guidance_card` ãŒè¡¨ç¤ºã•ã‚Œã‚‹:

```
[ERROR_CODE] MISSING_OBJECT
[BLOCKED_TARGET] ã‚³ãƒ¼ãƒ’ãƒ¼è±†
[SUGGESTED_FIX] ã‚·ãƒŠãƒªã‚ªã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ 
```

ã“ã‚ŒãŒå•é¡Œã®åŸå› ã¨ä¿®æ­£æ–¹é‡ã€‚

## 4. Play Modeã§ç¾å ´ç¢ºèªï¼ˆ3åˆ†ï¼‰

```bash
# ã‚·ãƒŠãƒªã‚ªã‚’Play Modeã§æ¢ç´¢
make play s=coffee_trap

# èµ·å‹•å¾Œã®ã‚³ãƒãƒ³ãƒ‰ï¼ˆçŸ­ç¸®å½¢ã‚‚ä½¿ç”¨å¯ï¼‰
>>> l             # = look: ç¾åœ¨åœ°ç¢ºèª
>>> w             # = where: ç¾åœ¨åœ°ã¨ã‚­ãƒ£ãƒ©ä½ç½®
>>> m             # = map: å…¨ä½“ãƒãƒƒãƒ—
>>> g ã‚­ãƒƒãƒãƒ³     # = move: ç§»å‹•
>>> i             # = inventory: æ‰€æŒå“ç¢ºèª
>>> o å¼•ãå‡ºã—     # = open: ã‚³ãƒ³ãƒ†ãƒŠã‚’é–‹ã‘ã‚‹
>>> x æ£š          # = search: èª¿ã¹ã‚‹/æ¢ç´¢
>>> t ã‚³ãƒ¼ãƒ’ãƒ¼è±†   # = take: ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–ã‚‹
>>> h             # = help: ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
>>> q             # = quit: çµ‚äº†
```

ã€Œã‚³ãƒ¼ãƒ’ãƒ¼è±†ãŒpropsã«ãªã„ã€ã€Œå¼•ãå‡ºã—ã®ä¸­ã«ã‚ã‚‹ã€ãªã©ã€å•é¡Œã®å®Ÿæ…‹ã‚’ç¢ºèªã€‚

### ğŸ’¡ ãƒ’ãƒ³ãƒˆ: çŸ­ç¸®ã‚³ãƒãƒ³ãƒ‰

| çŸ­ç¸® | ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|------|---------|------|
| `l` | look | ç¾åœ¨åœ°ã‚’è¦‹ã‚‹ |
| `g` | go/move | ç§»å‹• |
| `t` | take | å–ã‚‹ |
| `o` | open | é–‹ã‘ã‚‹ |
| `x` | examine/search | èª¿ã¹ã‚‹ |
| `i` | inventory | æ‰€æŒå“ |
| `m` | map | ãƒãƒƒãƒ— |
| `w` | where | ä½ç½®ç¢ºèª |
| `h` | help | ãƒ˜ãƒ«ãƒ— |
| `q` | quit | çµ‚äº† |

## 5. ä¿®æ­£ã‚’é©ç”¨ï¼ˆ2åˆ†ï¼‰

### ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥å¯¾å‡¦æ³•

| ç—‡çŠ¶ | åŸå›  | å¯¾å‡¦ |
|------|------|------|
| MISSING_OBJECT | propsã«ãªã„ | ã‚·ãƒŠãƒªã‚ªJSONã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ  |
| ç§»å‹•ã§ããªã„ | exitsã«ãªã„ | ã‚·ãƒŠãƒªã‚ªJSONã«exitè¿½åŠ  |
| éš ã—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | hidden_objects | search ã§ç™ºè¦‹å¯èƒ½ã‹ç¢ºèª |
| ã‚³ãƒ³ãƒ†ãƒŠå†… | containers | open ã§å–å¾—å¯èƒ½ã‹ç¢ºèª |

### ã‚·ãƒŠãƒªã‚ªä¿®æ­£ä¾‹

```bash
# ã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
$EDITOR experiments/scenarios/coffee_trap.json
```

```json
{
  "locations": {
    "ã‚­ãƒƒãƒãƒ³": {
      "props": ["ã‚³ãƒ¼ãƒ’ãƒ¼ãƒ¡ãƒ¼ã‚«ãƒ¼", "ã‚³ãƒ¼ãƒ’ãƒ¼è±†"],  // â† è¿½åŠ 
      "exits": ["ãƒªãƒ“ãƒ³ã‚°"]
    }
  }
}
```

## 6. æ¤œè¨¼ï¼ˆè‡ªå‹•ï¼‰

```bash
# ã‚·ãƒŠãƒªã‚ªæ§‹æ–‡ãƒã‚§ãƒƒã‚¯
make lint-scenarios

# å†åº¦Demo Packã‚’å®Ÿè¡Œã—ã¦ç¢ºèª
make gui
```

## ã‚³ãƒãƒ³ãƒ‰ã¾ã¨ã‚

| ã‚³ãƒãƒ³ãƒ‰ | ç”¨é€” |
|----------|------|
| `make gui` | GUIèµ·å‹• |
| `make play s=<scenario>` | Play Modeèµ·å‹• |
| `make lint-scenarios` | ã‚·ãƒŠãƒªã‚ªæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ |
| `make ci-gate` | å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆ:

1. [triage_playbook.md](triage_playbook.md) ã®è©³ç´°æ‰‹é †ã‚’å‚ç…§
2. `docs/æ©Ÿèƒ½ä¸€è¦§.md` ã§åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½ã‚’ç¢ºèª
3. `make test` ã§ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã‹ç¢ºèª

---

## é‹ç”¨ãƒ¡ãƒ¢

### æ—¥å¸¸ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# 1. æ¯æœ: Demo Packå®Ÿè¡Œã§çŠ¶æ…‹ç¢ºèª
make gui
# â†’ Demo Pack â†’ Run Demo Pack

# 2. å•é¡Œç™ºè¦‹æ™‚: Play Modeã§èª¿æŸ»
make play s=<å•é¡Œã®scenario_id>

# 3. ä¿®æ­£å¾Œ: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
make ci-gate  # ã¾ãŸã¯ make test

# 4. ã‚³ãƒŸãƒƒãƒˆå‰: lintå®Ÿè¡Œ
make lint-scenarios
```

### æ–°ã—ã„ã‚·ãƒŠãƒªã‚ªã‚’ä½œã‚‹

```bash
# 1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ
make new-scenario id=scn_my_new_scenario

# 2. JSONç·¨é›†
$EDITOR experiments/scenarios/scn_my_new_scenario.json

# 3. registry.yaml ã«ç™»éŒ²
$EDITOR experiments/scenarios/registry.yaml

# 4. Play Modeã§ãƒ†ã‚¹ãƒˆ
make play s=my_new_scenario

# 5. Lintå®Ÿè¡Œ
make lint-scenarios
```

### ã‚ˆãã‚ã‚‹æ“ä½œ

| ã‚„ã‚ŠãŸã„ã“ã¨ | ã‚³ãƒãƒ³ãƒ‰ |
|-------------|---------|
| GUIèµ·å‹• | `make gui` |
| ã‚·ãƒŠãƒªã‚ªæ¢ç´¢ | `make play s=<id>` |
| ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ | `make test` |
| CIã‚²ãƒ¼ãƒˆé€šéç¢ºèª | `make ci-gate` |
| ã‚·ãƒŠãƒªã‚ªlint | `make lint-scenarios` |
| ã‚³ãƒ¼ãƒ‰æ•´å½¢ | `make format` |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤ | `make clean` |

### P0 Freeze Policy

ç¾åœ¨ã€ä»¥ä¸‹ã¯P0 Freezeã«ã‚ˆã‚Šå¤‰æ›´ç¦æ­¢:
- `gm_2x2_runner.py` (Lane-Core)
- `WorldStateDTO` æ§‹é€ 
- è©•ä¾¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹å®šç¾©

è©³ç´°: [P0_FREEZE_POLICY.md](P0_FREEZE_POLICY.md)

---

*10åˆ†ã§çµ‚ã‚ã‚‰ãªã‹ã£ãŸã‚‰ã€ãã‚Œã¯ãƒã‚°ã§ã™ã€‚Issueå ±å‘Šã—ã¦ãã ã•ã„ã€‚*

*Last Updated: 2026-01-26*
